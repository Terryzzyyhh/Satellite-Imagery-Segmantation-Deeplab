# Ali-Agriculture-AI-Challenge-2019
阿里天池2019年县域农业大脑AI挑战赛

## 依赖库
```
1. pyvips
sudo apt install libvips
pip install pyvips

2. opencv
pip install opencv-python
```

## 数据预处理
1. 将RGBA图片处理为RGB图片，其中透明度为0的区域像素值设置为`(0, 0, 0)`，其他则直接提取出RGB通道。
2. 数据增强，包括多尺度裁剪、随机裁剪、多角度旋转（90/180/270）、镜像、翻转等。
3. 减去均值，做归一化。

|Scale|Mean|Std|
|-|-|-|
|320*320|`[133.40, 133.06, 115.60]`|`[60.34, 53.46, 51.97]`
|480*480|`[131.62, 131.28, 114.05]`|`[61.86, 55. 53.30]`|
|960*960|`[126.33, 126.01, 109.47]`|` [65.89, 59.96, 56.82]`|
|1280*1280|`[123.90, 123.59, 107.37]`|`[67.53, 61.86, 58.25]`|

## 网络设置
采取`pytorch`内置的`deeplabv3_resnet101`网络，由于PASCAL数据集与卫星云图数据集相差较远，所以不采用预训练权重。

## 训练策略
[TODO]

##  疑问
1. pvvips读入的图片是`RGB`还是`BGR`排列？

## TODO
- [x] `metrics`函数

## 分数
1. [0.20] refined, 1280, scales = [480, 600, 960, 1280]
2. [0.22] no refine, 1280, scales = [480, 600, 960, 1280]
3. [0.22] no refine, 480, scales = [224, 320, 480]